/*! ngStorage 0.3.0 | Copyright (c) 2013 Gias Kay Lee | MIT License */"use strict";!function(){function a(a){var b="ngStorage-";return{setPrefix:function(a){angular.isString(a)&&(b=a)},$get:["$rootScope","$window","$timeout","$log",function(c,d,e,f){for(var g,h,i,j=d[a]||(f.warn("This browser does not support Web Storage!"),{}),k={$default:function(a){for(var b in a)angular.isDefined(k[b])||(k[b]=a[b]);return k},$reset:function(a){for(var b in k)"$"===b[0]||delete k[b];return k.$default(a)}},l=b.length,m=0;m<j.length;m++)(i=j.key(m))&&b===i.slice(0,l)&&(k[i.slice(l)]=angular.fromJson(j.getItem(i)));return g=angular.copy(k),c.$watch(function(){h||(h=e(function(){if(h=null,!angular.equals(k,g)){angular.forEach(k,function(a,c){angular.isDefined(a)&&"$"!==c[0]&&j.setItem(b+c,angular.toJson(a)),delete g[c]});for(var a in g)j.removeItem(b+a);g=angular.copy(k)}},100))}),"localStorage"===a&&d.addEventListener&&d.addEventListener("storage",function(a){b===a.key.slice(0,l)&&(a.newValue?k[a.key.slice(l)]=angular.fromJson(a.newValue):delete k[a.key.slice(l)],g=angular.copy(k),c.$apply())}),k}]}}angular.module("ngStorage",[]).provider("$localStorage",a("localStorage")).provider("$sessionStorage",a("sessionStorage"))}();