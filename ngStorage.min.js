/*! ngStorage 0.3.0 | Copyright (c) 2013 Gias Kay Lee | MIT License */
(function(){function g(g){return["$rootScope","$window","$log",function(m,k,d){var c,a={$default:function(b){for(var e in b)angular.isDefined(a[e])||(a[e]=b[e]);return a},$reset:function(b){for(var e in a)"$"===e[0]||delete a[e];return a.$default(b)}},f,l;try{c=k[g]||(d.warn("This browser does not support Web Storage!"),null)}catch(n){d.warn(n)}if(c){d=0;for(var h;d<c.length;d++)(h=c.key(d))&&"ngStorage-"===h.slice(0,10)&&(a[h.slice(10)]=angular.fromJson(c.getItem(h)));f=angular.copy(a);m.$watch(function(){l||
(l=setTimeout(function(){l=null;if(!angular.equals(a,f)){angular.forEach(a,function(a,b){angular.isDefined(a)&&"$"!==b[0]&&c.setItem("ngStorage-"+b,angular.toJson(a));delete f[b]});for(var b in f)c.removeItem("ngStorage-"+b);f=angular.copy(a)}},100))});"localStorage"===g&&k.addEventListener&&k.addEventListener("storage",function(b){"ngStorage-"===b.key.slice(0,10)&&(b.newValue?a[b.key.slice(10)]=angular.fromJson(b.newValue):delete a[b.key.slice(10)],f=angular.copy(a),m.$apply())})}return a}]}angular.module("ngStorage",
[]).factory("$localStorage",g("localStorage")).factory("$sessionStorage",g("sessionStorage"))})();