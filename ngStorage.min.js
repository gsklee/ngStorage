/*! ngStorage 0.3.0 | Copyright (c) 2014 Gias Kay Lee | MIT License */"use strict";!function(){function a(a){return["$rootScope","$window","$log",function(b,c,d){var e,f,g,h={$default:function(a){for(var b in a)angular.isDefined(h[b])||(h[b]=a[b]);return h},$reset:function(a){for(var b in h)"$"===b[0]||delete h[b];return h.$default(a)}};try{e=c[a],e.length}catch(i){d.warn("This browser does not support Web Storage!");var j,k={};e={setItem:function(a,b){return k[a]=String(b)},getItem:function(a){return k.hasOwnProperty(a)?k[a]:j},removeItem:function(a){return delete k[a]},clear:function(){return k={}},length:0}}for(var l,m=0;m<e.length;m++)(l=e.key(m))&&"ngStorage-"===l.slice(0,10)&&(h[l.slice(10)]=angular.fromJson(e.getItem(l)));return f=angular.copy(h),b.$watch(function(){g||(g=setTimeout(function(){if(g=null,!angular.equals(h,f)){angular.forEach(h,function(a,b){angular.isDefined(a)&&"$"!==b[0]&&e.setItem("ngStorage-"+b,angular.toJson(a)),delete f[b]});for(var a in f)e.removeItem("ngStorage-"+a);f=angular.copy(h)}},100))}),"localStorage"===a&&c.addEventListener&&c.addEventListener("storage",function(a){"ngStorage-"===a.key.slice(0,10)&&(a.newValue?h[a.key.slice(10)]=angular.fromJson(a.newValue):delete h[a.key.slice(10)],f=angular.copy(h),b.$apply())}),h}]}angular.module("ngStorage",[]).factory("$localStorage",a("localStorage")).factory("$sessionStorage",a("sessionStorage"))}();