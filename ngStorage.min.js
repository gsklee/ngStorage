/*! ngStorage 0.3.0 | Copyright (c) 2013 Gias Kay Lee | MIT License */"use strict";!function(){function a(a){var b="ngStorage-";return{setPrefix:function(a){angular.isString(a)&&(b=a)},$get:["$rootScope","$window",function(c,d){for(var e,f,g,h=d[a]||(console.warn("This browser does not support Web Storage!"),{}),i={$default:function(a){for(var b in a)angular.isDefined(i[b])||(i[b]=a[b]);return i},$reset:function(a){for(var b in i)"$"===b[0]||delete i[b];return i.$default(a)}},j=b.length,k=0;k<h.length;k++)(g=h.key(k))&&b===g.slice(0,j)&&(i[g.slice(j)]=angular.fromJson(h.getItem(g)));return e=angular.copy(i),c.$watch(function(){f||(f=setTimeout(function(){if(f=null,!angular.equals(i,e)){angular.forEach(i,function(a,c){angular.isDefined(a)&&"$"!==c[0]&&h.setItem(b+c,angular.toJson(a)),delete e[c]});for(var a in e)h.removeItem(b+a);e=angular.copy(i)}},100))}),"localStorage"===a&&d.addEventListener&&d.addEventListener("storage",function(a){b===a.key.slice(0,j)&&(a.newValue?i[a.key.slice(j)]=angular.fromJson(a.newValue):delete i[a.key.slice(j)],e=angular.copy(i),c.$apply())}),i}]}}angular.module("ngStorage",[]).provider("$localStorage",a("localStorage")).provider("$sessionStorage",a("sessionStorage"))}();